"use strict";function JSlider(e){this.init(e)}function JSliderStage(e){this.doc=document,this.init(e)}JSlider.prototype.init=function(e){var t=document.querySelectorAll(e),n;this.slidersList=[];if(t.length<1)return;for(n=0;n<t.length;n+=1)this.slidersList.push(new JSliderStage(t[n]))},JSliderStage.prototype.init=function(e){this.root=e,this.currentPage=1,this.images=this.root.querySelectorAll("img");if(this.images.length===0)return;this.build()},JSliderStage.prototype.build=function(){this.getPageDimensions().createStage().initNavigation(),this.root.innerHTML="",this.root.appendChild(this.stage)},JSliderStage.prototype.getPageDimensions=function(){var e;this.pageWidth=this.pageHeight=0;for(e=0;e<this.images.length;e+=1)this.images[e].width>this.pageWidth&&(this.pageWidth=this.images[e].width),this.images[e].height>this.pageHeight&&(this.pageHeight=this.images[e].height);return this},JSliderStage.prototype.createStage=function(){return this.stage=this.doc.createElement("div"),this.stage.className="jslider-stage",this.stage.style.width=this.pageWidth+"px",this.buildTrack().loadImages(),this.stage.appendChild(this.sliderTrack),this},JSliderStage.prototype.buildTrack=function(){return this.sliderTrack=this.doc.createElement("div"),this.sliderTrack.className="jslider-track",this.sliderTrack.style.height=this.pageHeight+"px",this},JSliderStage.prototype.loadImages=function(){var e,t;this.imageList=this.doc.createElement("ul"),this.imageList.style.width=this.images.length*this.pageWidth+"px";for(e=0;e<this.images.length;e+=1)t=this.doc.createElement("li"),t.style.width=this.pageWidth+"px",t.style.height=this.pageHeight+"px",t.appendChild(this.images[e]),this.imageList.appendChild(t);this.sliderTrack.appendChild(this.imageList)},JSliderStage.prototype.initNavigation=function(){var e=this.pageHeight/2-40+"px";return this.images.length<2?this:(this.createNavigationButton("left",e).createNavigationButton("right",e),this.navButtonsList=this.stage.querySelectorAll(".jslider-navigation"),this)},JSliderStage.prototype.createNavigationButton=function(e,t){var n=this.doc.createElement("a"),r=this,i=e==="left",s;return n.className="jslider-navigation "+e+(i?" off":""),n.style.top=t,n.href="#",n.innerHTML=i?"&lsaquo;":"&rsaquo;",n.onclick=function(e){e.preventDefault(),s=i?r.currentPage-1:r.currentPage+1,r.gotoPage(s)},this.stage.appendChild(n),this},JSliderStage.prototype.gotoPage=function(e){var t=-1*(e-1)*this.pageWidth;if(e<1||e>this.images.length)return;this.setNavigationState(e),this.imageList.style.marginLeft=t+"px",this.currentPage=e},JSliderStage.prototype.setNavigationState=function(e){e===1?(this.navButtonsList[0].classList.add("off"),this.navButtonsList[1].classList.remove("off")):(this.navButtonsList[0].classList.remove("off"),e===this.images.length?this.navButtonsList[1].classList.add("off"):this.navButtonsList[1].classList.remove("off"))};